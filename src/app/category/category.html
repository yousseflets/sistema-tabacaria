<section class="category container">
  <h1>{{ name }}</h1>
  <div *ngIf="loading" class="loading">Carregando produtos...</div>

  <div class="products" *ngIf="!loading">
    <div class="grid">
      <div class="product" *ngFor="let p of products">
        <img [src]="imageUrl(p.raw?.image || p.image)" alt="{{ p.name }}" (error)="handleImgError($event)" />
        <div class="img-debug"><a [href]="imageUrl(p.raw?.image || p.image)" target="_blank">{{ imageUrl(p.raw?.image || p.image) }}</a></div>
        <div class="meta">
          <div class="name">{{ p.name }}</div>
          <div class="price">R$ {{ p.price }}</div>
          <button class="btn-add" (click)="addToCart(p)">Adicionar ao carrinho</button>
        </div>
      </div>
    </div>
  </div>
</section>
